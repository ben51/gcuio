{% macro button(name, style) %}
if (source.{{ name }}) {
    ircline += '<span class="{{ name }}">';
    ircline += '<a href="#" ';
    if ('{{ name }}' != 'time') { /* no idea what to do with time yet */
        ircline += 'onclick="modal_display(';
        ircline += '\'{{ name }}:' + escape_html(source.{{ name }}) + '\'';
        ircline += ', undefined); return false;" ';
    }
    ircline += 'role="button" class="{{ style[name] }}">';
    ircline += escape_html(source['{{ name }}']);
    ircline += '</a>';
    ircline += '</span>';
}
{%- endmacro %}

{% macro buttonlst(name, style, icon) %}
if (source.{{ name }} && source.{{ name }}[0]) {
    if ('{{ name }}' == 'tonick')
        ircline += '<span class="glyphicon glyphicon-chevron-right"></span>';
    ircline += '<span class="{{ name }}">'
    $.each(source.{{ name }}, function() {
        ircline += '<a href="#" ';
        ircline += 'onclick="modal_display(';
        ircline += '\'{{ name }}:' + escape_html(this) + '\'';
        ircline += ', undefined); return false;" ';
        ircline += 'role="button" class="{{ style[name] }}">';
        ircline += escape_html(this);
        {% if icon %}
        ircline += '<span class="glyphicon glyphicon-{{ icon }}" ';
        ircline += 'style="padding-left: 5px;"></span>';
        {% endif %}
        ircline += '</a>';
    });
    ircline += '</span>';
}
{%- endmacro %}
